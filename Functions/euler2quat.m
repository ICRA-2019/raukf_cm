function y = euler2quat(x)
%     y = angle2quat(x(3), x(2), x(1), 'ZYX')';
    y = [ cos(x(3)/2).*cos(x(2)/2).*cos(x(1)/2) + ...
        sin(x(3)/2).*sin(x(2)/2).*sin(x(1)/2);
        cos(x(3)/2).*cos(x(2)/2).*sin(x(1)/2) - ...
        sin(x(3)/2).*sin(x(2)/2).*cos(x(1)/2);
        cos(x(3)/2).*sin(x(2)/2).*cos(x(1)/2) + ...
        sin(x(3)/2).*cos(x(2)/2).*sin(x(1)/2);
        sin(x(3)/2).*cos(x(2)/2).*cos(x(1)/2) - ...
        cos(x(3)/2).*sin(x(2)/2).*sin(x(1)/2)];
end